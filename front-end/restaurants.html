<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurants - Pickup Plus</title>
    <link rel="stylesheet" href="restaurants_style.css">
</head>
<body>
    <div class="top-bar">
        <a href="index.html">Home</a>
        <a href="login.html">Login</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
    </div>
    <header>
        <h1>Our Restaurants</h1>
    </header>
    <div class="content" id="restaurantList">
        <script>
            function fetchRestaurants() {
                fetch('http://127.0.0.1:4002/api/restaurants/all')
                    .then(response => response.json())
                    .then(data => {
                        const container = document.getElementById('restaurant-list');
                        container.innerHTML = ''; // Clear the loading message or existing content
        
                        if (data.length === 0) {
                            container.innerHTML = 'No restaurants found.';
                        } else {
                            data.forEach(restaurant => {
                                const div = document.createElement('div');
                                div.className = 'restaurant';
                                div.innerHTML = `
                                    <h2>${restaurant.name}</h2>
                                    <p><strong>Address:</strong> ${restaurant.address}</p>
                                    <p><strong>Email:</strong> ${restaurant.email}</p>
                                    <p><strong>Phone:</strong> ${restaurant.phonenumber}</p>
                                    <p><strong>Category:</strong> ${restaurant.category}</p>
                                `;
                                container.appendChild(div);
                            });
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching restaurants:', error);
                        document.getElementById('restaurant-list').innerHTML = 'Failed to load restaurants.';
                    });
            }
        
            // Call the function when the script loads
            fetchRestaurants();
        </script>
    </div>
    <footer>
        <p>Pickup Plus Â© 2024</p>
    </footer>
    <script src="fetchRestaurants.js"></script>
</body>
</html>
